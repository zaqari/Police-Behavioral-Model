# Inferring a Rate
model{
  #per person priors
  for (cop in 1:PD){
    for (com in 1:CITY){
      sigma[cop, com] ~ dunif(0,1)
      theta[com,cop] ~ dnorm(bias[com]+alpha[cop], pow(sigma[cop, com],-2))T(0,1)
      y[cop,com] ~ dbin(theta[com,cop], N[com])
      
    }
  }
  
  for (cop in 1:PD){
    alpha[cop] ~ dunif(0,1)
  }

  for (com in 1:CITY){ 
    bias[com] ~ dunif(-1,1)
    N[com] ~ dcat(p[com,])
    for (i in 1:nmax){
        p[com, i] <- 1/nmax
    }  
  }
}